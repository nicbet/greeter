---
stack:
  name: Greeter
  repository: https://github.com/nicbet/greeter
  branch: master
  environment: local

tasks:
  hello:
    action: "Say Hello"
    description: "Just an example"
    steps:
      - export WHAT=hello
      - echo $WHAT world
build:
  pre:
    - echo "Building Docker image"
  post:
    - echo "Done building!"
  steps:
    - docker build -t ${OWNER}/${NAME}:${SHA} .
deploy:
  pre:
    - echo "Deploying ${OWNER}/${NAME}:${SHA} to ${ENVIRONMENT}"
  post:
    - echo "Done deploying ${OWNER}/${NAME}:${SHA} to ${ENVIRONMENT}"
  steps:
    - echo "hoist apply -c deployment/${ENVIRONMENT}.yml deployment/template"
